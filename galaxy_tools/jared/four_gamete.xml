<tool id="four_gamete" name="Four Gamete Filtering" version="0.0.1">
    <requirements>
        <requirement type="package" version="0.12.0.1">pysam</requirement>
    </requirements>
    <description>Identifies regions that pass four-gamete test criteria</description>
    <command><![CDATA[
        python $__tool_directory__/four_gamete_pysam.py
            #if $inputType.
            --vcfname
            $vcf_input
            --4gcompat
            --reti
            --indexname ${vcf_input.metadata.vcfgz_index}
            --out $vcf_output".gz";

        mv $vcf_output".gz" $vcf_output;
    ]]></command>
    <inputs>
        <conditional name="inputType">
            <param name="inputTypeMenu" type="select" label="Select filetype">
                <option value="vcf">VCF</option>
                <option value="fasta">FASTA</option>
            </param>
            <when value="vcf">
                <param format="vcf.gz" name="vcf_input" type="data" label="VCF Input" />
            </when>
            <when value="fasta">
                <param format="fasta" name="fasta_input" type="data" label="FASTA Input" />
            </when>
        </conditional>
    </inputs>

    <outputs>
        <data format="vcf.gz" name="vcf_output" />
    </outputs>
    <help>
        Four gamete test
    </help>
</tool>
